-- MySQL dump 10.13  Distrib 5.7.9, for osx10.9 (x86_64)
--
-- Host: localhost    Database: yolaine_hipdev
-- ------------------------------------------------------
-- Server version	5.5.44-MariaDB-cll-lve

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `transaction`
--

DROP TABLE IF EXISTS `transaction`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transaction` (
  `transaction_id` int(10) NOT NULL AUTO_INCREMENT COMMENT 'Numéro unique pour chaque transaction.',
  `receveur_id` int(10) DEFAULT NULL COMMENT 'Numéro unique pour chaque organisme receveur, à partir de la table organisme.',
  `donneur_id` int(10) DEFAULT NULL COMMENT 'Numéro unique pour chaque donneur, à partir de la table organisme.',
  `marchandise_id` int(10) DEFAULT NULL COMMENT 'Numéro unique de la marchandise, à partir de la table alimentaire.',
  `date_collecte` datetime DEFAULT NULL COMMENT 'Date (DATETIME) de la collecte par l''oranisme receveur.',
  `date_reservation` datetime DEFAULT NULL COMMENT 'Date (DATETIME) de la réservation faite par l''organisme receveur.',
  `date_disponible` datetime DEFAULT NULL COMMENT 'Date (DATETIME) où la marchandise est disponible.',
  `date_transaction` datetime NOT NULL COMMENT 'Date (DATETIME) de la transaction.',
  PRIMARY KEY (`transaction_id`),
  UNIQUE KEY `id_transaction_UNIQUE` (`transaction_id`),
  KEY `fk_organisme_donneur$transaction` (`donneur_id`),
  KEY `fk_organisme_receveur$transaction` (`receveur_id`),
  KEY `fk_alimentaire$transaction` (`marchandise_id`),
  KEY `ix_transaction` (`date_disponible`,`date_collecte`),
  CONSTRAINT `fk_alimentaire$transaction` FOREIGN KEY (`marchandise_id`) REFERENCES `alimentaire` (`alimentaire_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_organisme_donneur$transaction` FOREIGN KEY (`donneur_id`) REFERENCES `organisme` (`organisme_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_organisme_receveur$transaction` FOREIGN KEY (`receveur_id`) REFERENCES `organisme` (`organisme_id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=187 DEFAULT CHARSET=utf8 DELAY_KEY_WRITE=1 COMMENT='Table permettant de prendre les informations sur la transaction pour une marchandise donnée.';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transaction`
--

LOCK TABLES `transaction` WRITE;
/*!40000 ALTER TABLE `transaction` DISABLE KEYS */;
INSERT INTO `transaction` (`transaction_id`, `receveur_id`, `donneur_id`, `marchandise_id`, `date_collecte`, `date_reservation`, `date_disponible`, `date_transaction`) VALUES (116,NULL,5,98,NULL,NULL,'2016-01-26 18:52:33','2016-01-26 18:52:33'),(117,NULL,5,99,NULL,NULL,'2016-01-26 18:53:30','2016-01-26 18:53:30'),(118,NULL,5,100,NULL,NULL,'2016-01-26 18:54:32','2016-01-26 18:54:32'),(119,NULL,5,101,NULL,NULL,'2016-01-26 18:56:09','2016-01-26 18:56:09'),(120,NULL,6,102,NULL,NULL,'2016-01-26 18:58:21','2016-01-26 18:58:21'),(121,NULL,6,103,NULL,NULL,'2016-01-26 19:00:25','2016-01-26 19:00:25'),(122,NULL,6,104,NULL,NULL,'2016-01-26 19:01:12','2016-01-26 19:01:12'),(123,NULL,6,105,NULL,NULL,'2016-01-26 19:02:22','2016-01-26 19:02:22'),(124,NULL,6,106,NULL,NULL,'2016-01-26 19:03:44','2016-02-26 19:03:44'),(125,NULL,7,107,NULL,NULL,'2016-01-26 19:06:11','2016-01-26 19:06:11'),(126,NULL,7,108,NULL,NULL,'2016-01-26 19:06:59','2016-01-26 19:06:59'),(127,NULL,7,109,NULL,NULL,'2016-01-26 19:08:14','2016-01-26 19:08:14'),(128,NULL,8,110,NULL,NULL,'2016-02-26 19:10:15','2016-01-26 19:10:15'),(129,NULL,8,111,NULL,NULL,'2016-02-26 19:11:26','2016-01-26 19:11:26'),(130,4,6,106,NULL,'2016-01-26 19:13:31','2016-01-26 19:03:44','2016-02-26 19:13:31'),(131,4,7,109,NULL,'2016-01-26 19:13:38','2016-01-26 19:08:14','2016-01-26 19:13:38'),(132,4,5,101,NULL,'2016-01-26 19:13:51','2016-01-26 18:56:09','2016-01-26 19:13:51'),(133,4,5,101,NULL,'2016-02-08 13:40:00','2016-01-26 19:14:23','2016-01-26 19:14:23'),(134,4,6,109,'2016-01-26 19:14:41','2016-01-26 19:13:38','2016-01-26 19:08:14','2016-01-26 19:14:41'),(135,NULL,8,110,NULL,'2016-01-26 21:40:18','2016-02-26 19:10:15','2016-01-26 21:40:18'),(136,4,8,110,'2016-02-09 00:00:00',NULL,'2016-02-26 21:40:30','2016-01-26 21:40:30'),(137,5,8,111,NULL,'2016-01-27 09:06:05','2016-02-26 19:11:26','2016-01-27 09:06:05'),(138,NULL,6,106,NULL,NULL,'2016-01-27 09:17:00','2016-02-27 09:17:00'),(139,5,6,103,NULL,'2016-01-27 10:18:35','2016-01-26 19:00:25','2016-01-27 10:18:35'),(140,NULL,7,111,NULL,NULL,'2016-02-27 10:19:02','2016-01-27 10:19:02'),(141,5,6,106,NULL,'2016-01-27 10:21:42','2016-01-27 09:17:00','2016-02-27 10:21:42'),(142,5,7,108,NULL,'2016-01-27 11:28:09','2016-01-26 19:06:59','2016-01-27 11:28:09'),(143,5,4,108,'2016-01-27 11:28:31','2016-01-27 11:28:09','2016-01-26 19:06:59','2016-01-27 11:28:31'),(144,4,7,107,NULL,'2016-02-02 11:04:32','2016-01-26 19:06:11','2016-02-02 11:04:32'),(145,4,6,102,'2016-02-08 00:00:00','2016-02-02 11:04:38','2016-01-26 18:58:21','2016-02-02 11:04:38'),(147,NULL,6,102,NULL,NULL,'2016-02-04 09:21:52','2016-02-04 09:21:52'),(148,4,6,105,NULL,'2016-02-07 11:27:09','2016-01-26 19:02:22','2016-02-07 11:27:09'),(149,4,5,99,NULL,'2016-02-07 11:28:28','2016-01-26 18:53:30','2016-02-07 11:28:28'),(150,4,6,104,NULL,'2016-02-10 10:24:27','2016-01-26 19:01:12','2016-02-10 10:24:27'),(151,NULL,7,101,NULL,NULL,'2015-12-12 00:00:00','2015-12-12 00:00:00'),(152,1,7,101,NULL,'2015-12-12 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00'),(153,1,7,101,'2016-02-02 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00'),(154,NULL,6,100,NULL,NULL,'2015-11-11 00:00:00','2015-11-11 00:00:00'),(155,2,6,100,NULL,'2015-11-11 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00'),(156,2,6,100,'2016-02-02 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00'),(157,NULL,5,103,NULL,NULL,'2015-10-10 00:00:00','2015-10-10 00:00:00'),(158,3,5,103,NULL,'2015-10-10 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00'),(159,3,5,103,'2016-02-02 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00'),(160,NULL,8,107,NULL,NULL,'2015-09-09 00:00:00','2015-09-09 00:00:00'),(161,4,8,107,NULL,'2015-09-09 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00'),(162,4,8,107,'2016-02-02 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00'),(163,NULL,8,104,NULL,NULL,'2015-12-12 00:00:00','2015-12-12 00:00:00'),(164,1,8,104,NULL,'2015-12-12 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00'),(165,1,8,104,'2016-02-02 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00','2015-12-12 00:00:00'),(166,NULL,7,102,NULL,NULL,'2015-11-11 00:00:00','2015-11-11 00:00:00'),(167,2,7,102,NULL,'2015-11-11 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00'),(168,2,7,102,'2016-02-02 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00','2015-11-11 00:00:00'),(169,NULL,6,99,NULL,NULL,'2015-10-10 00:00:00','2015-10-10 00:00:00'),(170,3,6,99,NULL,'2015-10-10 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00'),(171,3,6,99,'2016-02-02 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00','2015-10-10 00:00:00'),(172,NULL,6,111,NULL,NULL,'2015-09-09 00:00:00','2015-09-09 00:00:00'),(173,4,6,111,NULL,'2015-09-09 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00'),(174,4,6,111,'2016-02-02 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00','2015-09-09 00:00:00'),(184,NULL,4,118,NULL,NULL,'2016-02-17 13:57:25','2016-02-17 13:57:25'),(186,NULL,4,122,NULL,NULL,'2016-02-17 15:00:25','2016-02-17 15:00:25');
/*!40000 ALTER TABLE `transaction` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-02-18  9:29:59
